<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.jobplus.dao.UpdTableColumnMapper" >
  <!-- <resultMap id="BaseResultMap" type="com.jobplus.pojo.UpdTableColum" >
    <id column="ID" property="id" jdbcType="INTEGER" /> 
    <result column="bookID" property="bookid" jdbcType="INTEGER" />
    <result column="userID" property="userid" jdbcType="INTEGER" />
    <result column="recommend" property="recommend" jdbcType="VARCHAR" />
    <result column="knsite" property="knsite" jdbcType="VARCHAR" />
    <result column="extendeds" property="extendeds" jdbcType="VARCHAR" />
    <result column="isdelete" property="isdelete" jdbcType="INTEGER" />
    <result column="commentby" property="commentby" jdbcType="INTEGER" />
    <result column="shareType" property="sharetype" jdbcType="VARCHAR" />
    <result column="shareClass" property="shareclass" jdbcType="VARCHAR" />
    <result column="updateTime" property="updatetime" jdbcType="TIMESTAMP" />
    <result column="createTime" property="createtime" jdbcType="TIMESTAMP" />
    <result column="likeSum" property="likesum" jdbcType="INTEGER" />
  </resultMap> -->
 
  <!-- Integer objectId; String tableName; String tableColumn; String addOrDecrease; Integer AdOrDeNum; -->
 <update id="updTableColumn" parameterType="com.jobplus.pojo.UpdTableColumn" >
  	update ${tableName}
  	set ${tableColumn} = CASE 
  	WHEN ( ${tableColumn} ${addOrDecrease} ${AdOrDeNum} )  <![CDATA[ <= ]]>   0 THEN 0
    ELSE ( ${tableColumn} ${addOrDecrease} ${AdOrDeNum} )
    END  	
  	where id = #{objectId}
  </update>
  <!-- <update id="updTableColumn" parameterType="com.jobplus.pojo.UpdTableColumn" >
  	update tbl_books
  	set collectsum = collectsum + 999
  	where id = 1
  </update> -->
</mapper>